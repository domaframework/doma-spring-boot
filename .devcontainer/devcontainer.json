{
	"name": "doma-spring-boot",
	"build": {
		"dockerfile": "Dockerfile"
	},
	"features": {
		// Since the base image is Java 17, set the version to "none" so Java is not installed here.  
		// However, using SDKMAN! is convenient, so we still use ghcr.io/devcontainers/features/java.
		"ghcr.io/devcontainers/features/java:1": {
			"version": "none"
		},
		// For using Testcontainers.
		"ghcr.io/devcontainers/features/docker-in-docker:2": {},
		// For using pre-commit.
		"ghcr.io/devcontainers/features/python:1": {
			"version": "3.12",
			"toolsToInstall": "pre-commit"
		}
	},
	"mounts": [
		{
			"source": "doma-spring-boot-maven",
			"target": "/home/vscode/.m2",
			"type": "volume"
		},
		{
			"source": "doma-spring-boot-dind",
			"target": "/var/lib/docker",
			"type": "volume"
		}
	],
	"postCreateCommand": ".devcontainer/setup.sh",
	"customizations": {
		"vscode": {
			"extensions": [
				"vmware.vscode-boot-dev-pack",
				"redhat.vscode-xml",
				"redhat.vscode-yaml"
			]
		}
	}
}